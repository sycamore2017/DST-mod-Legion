local a=GLOBAL;local b=TheNet:GetIsServer()or TheNet:IsDedicated()local c=TUNING.LEGION_MOD_LANGUAGES=="chinese"table.insert(Assets,Asset("ATLAS","images/icon_skinbar_shadow_l.xml"))table.insert(Assets,Asset("IMAGE","images/icon_skinbar_shadow_l.tex"))table.insert(Assets,Asset("ANIM","anim/images_minisign_skins1.zip"))table.insert(PrefabFiles,"fx_ranimbowspark")table.insert(PrefabFiles,"skinprefabs_legion")local d={"shadowtrail"}local function e(f)local g=f.components.inventoryitem:GetGrandOwner()or f;if not g.entity:IsVisible()then return end;local h,i,j=g.Transform:GetWorldPosition()if g.sg~=nil and g.sg:HasStateTag("moving")then local k=-g.Transform:GetRotation()*DEGREES;local l=g.components.locomotor:GetRunSpeed()*.1;h=h+l*math.cos(k)j=j+l*math.sin(k)end;local m=g.components.rider~=nil and g.components.rider:IsRiding()local n=TheWorld.Map;local o=FindValidPositionByFan(math.random()*2*PI,(m and 1 or.5)+math.random()*.5,4,function(o)local p=Vector3(h+o.x,0,j+o.z)return n:IsPassableAtPoint(p:Get())and not n:IsPointNearHole(p)and#TheSim:FindEntities(p.x,0,p.z,.7,d)<=0 end)if o~=nil then SpawnPrefab(f.trail_fx).Transform:SetPosition(h+o.x,0,j+o.z)end end;local function q(f,r)if f.vfx_fx~=nil then if f._vfx_fx_inst==nil then f._vfx_fx_inst=SpawnPrefab(f.vfx_fx)f._vfx_fx_inst.entity:AddFollower()end;f._vfx_fx_inst.entity:SetParent(r.owner.entity)f._vfx_fx_inst.Follower:FollowSymbol(r.owner.GUID,"swap_object",0,f.vfx_fx_offset or 0,0)end;if f.trail_fx~=nil and f._trailtask==nil then f._trailtask=f:DoPeriodicTask(6*FRAMES,e,2*FRAMES)end end;local function s(f,g)if f._vfx_fx_inst~=nil then f._vfx_fx_inst:Remove()f._vfx_fx_inst=nil end;if f._trailtask~=nil then f._trailtask:Cancel()f._trailtask=nil end end;local function t(f,r,u)f.vfx_fx=r[1]~=nil and r[1]:len()>0 and r[1]or nil;f.trail_fx=r[2]if f.vfx_fx~=nil or f.trail_fx~=nil then f:ListenForEvent("equipped",q)f:ListenForEvent("unequipped",s)if f.vfx_fx~=nil then f.vfx_fx_offset=u or-105;f:ListenForEvent("onremove",s)end end end;local function v(f)f:RemoveEventCallback("equipped",q)f:RemoveEventCallback("unequipped",s)f:RemoveEventCallback("onremove",s)end;local function w(f)if f.skin_l_anims then f.AnimState:PlayAnimation(f.skin_l_anims[math.random(#f.skin_l_anims)],false)end end;local function x(f,y)if f.skin_l_anims==nil then f:ListenForEvent("animover",w)end;f.skin_l_anims=y;w(f)end;local function z(f)f.skin_l_anims=nil;f:RemoveEventCallback("animover",w)end;local function A(B,C)local D=math.random()*2*PI;return B.x+C*math.cos(D),B.y,B.z-C*math.sin(D)end;local function E(F,G)if F.fx~=nil then F.fx.AnimState:SetBank(G)F.fx.AnimState:SetBuild(G)end;F.fxdata.skinname=G end;local function H(f,G,I)f.AnimState:SetBank(G)f.AnimState:SetBuild(G)if f.components.genetrans~=nil then if f.components.genetrans.fxdata.skinname~=G then E(f.components.genetrans,G)end;f.components.genetrans.fxdata.bloom=I end;if I then if f.Light:IsEnabled()then f.AnimState:SetBloomEffectHandle("shaders/anim.ksh")end else f.AnimState:ClearBloomEffectHandle()end end;local J="ProofOfPurchase"local K="Distinguished"local L="HeirloomElegant"a.SKIN_PREFABS_LEGION={rosebush={assets=nil,fn_start=function(f)f.AnimState:SetBank("berrybush2")f.AnimState:SetBuild("rosebush")end,exchangefx={prefab=nil,offset_y=nil,scale=1.5}},lilybush={assets=nil,fn_start=function(f)f.AnimState:SetBank("berrybush2")f.AnimState:SetBuild("lilybush")end,exchangefx={prefab=nil,offset_y=nil,scale=1.5}},orchidbush={assets=nil,fn_start=function(f)f.AnimState:SetBank("berrybush2")f.AnimState:SetBuild("orchidbush")end,exchangefx={prefab=nil,offset_y=nil,scale=0.8}},rosorns={assets=nil,image={name=nil,atlas=nil,setable=true},anim={bank=nil,build=nil,anim=nil,isloop_anim=nil,animpush=nil,isloop_animpush=nil,setable=true},equip={symbol="swap_object",build="swap_rosorns",file="swap_rosorns"},exchangefx={prefab=nil,offset_y=nil,scale=nil},floater={cut=0.15,size="small",offset_y=0.4,scale=0.5,nofx=nil}},lileaves={assets=nil,image={name=nil,atlas=nil,setable=true},anim={bank=nil,build=nil,anim=nil,isloop_anim=nil,animpush=nil,isloop_animpush=nil,setable=true},equip={symbol="swap_object",build="swap_lileaves",file="swap_lileaves"},exchangefx={prefab=nil,offset_y=nil,scale=nil},floater={cut=0.15,size="small",offset_y=0.4,scale=0.5,nofx=nil}},orchitwigs={assets=nil,image={name=nil,atlas=nil,setable=true},anim={bank=nil,build=nil,anim=nil,isloop_anim=nil,animpush=nil,isloop_animpush=nil,setable=true},equip={symbol="swap_object",build="swap_orchitwigs",file="swap_orchitwigs",atkfx="impact_orchid_fx"},exchangefx={prefab=nil,offset_y=nil,scale=nil},floater={cut=0.15,size="small",offset_y=0.4,scale=0.5,nofx=nil}},neverfade={assets=nil,image={name=nil,atlas=nil,setable=false},anim={bank=nil,build=nil,anim=nil,isloop_anim=nil,animpush=nil,isloop_animpush=nil,setable=true},fn_start=function(f)if f.hasSetBroken then f.components.inventoryitem.atlasname="images/inventoryimages/neverfade_broken.xml"f.components.inventoryitem:ChangeImageName("neverfade_broken")else f.components.inventoryitem.atlasname="images/inventoryimages/neverfade.xml"f.components.inventoryitem:ChangeImageName("neverfade")end end,equip={symbol="swap_object",build="swap_neverfade",file="swap_neverfade",build_broken="swap_neverfade_broken",file_broken="swap_neverfade_broken"},exchangefx={prefab=nil,offset_y=nil,scale=nil},floater={cut=0.12,size="med",offset_y=0.4,scale=0.5,nofx=nil}},neverfadebush={assets=nil,fn_start=function(f)f.AnimState:SetBank("berrybush2")f.AnimState:SetBuild("neverfadebush")end,exchangefx={prefab=nil,offset_y=0.9,scale=nil}},hat_lichen={assets=nil,image={name=nil,atlas=nil,setable=true},anim={bank=nil,build=nil,anim="anim",isloop_anim=nil,animpush=nil,isloop_animpush=nil,setable=true},equip={symbol="swap_hat",build="hat_lichen",file="swap_hat",isopenhat=true},exchangefx={prefab=nil,offset_y=nil,scale=nil},floater={cut=0.03,size="med",offset_y=0.2,scale=0.5,nofx=nil}},hat_cowboy={assets=nil,image={name=nil,atlas=nil,setable=true},anim={bank=nil,build=nil,anim="anim",isloop_anim=nil,animpush=nil,isloop_animpush=nil,setable=true},equip={symbol="swap_hat",build="hat_cowboy",file="swap_hat"},exchangefx={prefab=nil,offset_y=nil,scale=nil},floater={cut=0.03,size="med",offset_y=0.2,scale=0.8,nofx=nil}},boltwingout={assets=nil,image={name=nil,atlas=nil,setable=true},anim={bank="swap_boltwingout",build="swap_boltwingout",anim="idle",isloop_anim=nil,animpush=nil,isloop_animpush=nil,setable=true},equip={symbol="swap_body",build="swap_boltwingout",file="swap_body"},boltdata={fx="boltwingout_fx",build=nil},exchangefx={prefab=nil,offset_y=nil,scale=nil},floater={cut=0.09,size="small",offset_y=0.2,scale=0.45,nofx=nil}},fishhomingtool_awesome={assets=nil,image={name=nil,atlas=nil,setable=true},anim={bank=nil,build=nil,anim=nil,isloop_anim=nil,animpush=nil,isloop_animpush=nil,setable=true},fn_start=function(f)f.components.bundlemaker:SetSkinData()end,equip={symbol="swap_object",build="fishhomingtool_awesome",file="swap"},exchangefx={prefab=nil,offset_y=nil,scale=0.8}},fishhomingtool_normal={assets=nil,image={name=nil,atlas=nil,setable=true},anim={bank=nil,build=nil,anim=nil,isloop_anim=nil,animpush=nil,isloop_animpush=nil,setable=true},fn_start=function(f)f.components.bundlemaker:SetSkinData()end,exchangefx={prefab=nil,offset_y=nil,scale=0.8}},fishhomingbait={fn_start=function(f)f.baitimgs_l={dusty={img="fishhomingbait1",atlas="images/inventoryimages/fishhomingbait1.xml",anim="idle1",swap="swap1",symbol="base1",build="fishhomingbait"},pasty={img="fishhomingbait2",atlas="images/inventoryimages/fishhomingbait2.xml",anim="idle2",swap="swap2",symbol="base2",build="fishhomingbait"},hardy={img="fishhomingbait3",atlas="images/inventoryimages/fishhomingbait3.xml",anim="idle3",swap="swap3",symbol="base3",build="fishhomingbait"}}f.AnimState:SetBank("fishhomingbait")f.AnimState:SetBuild("fishhomingbait")if f.components.fishhomingbait and f.components.fishhomingbait.oninitfn then f.components.fishhomingbait.oninitfn(f)end end,exchangefx={prefab=nil,offset_y=nil,scale=0.8}},icire_rock={fn_start=function(f)f.AnimState:SetBank("heat_rock")f.AnimState:SetBuild("heat_rock")f.AnimState:OverrideSymbol("rock","icire_rock","rock")f.AnimState:OverrideSymbol("shadow","icire_rock","shadow")f.changeimgfn=function(f)local M="icire_rock"..tostring(f.currentTempRange)f.components.inventoryitem.atlasname="images/inventoryimages/"..M..".xml"f.components.inventoryitem:ChangeImageName(M)end;f.changeimgfn(f)end,exchangefx={prefab=nil,offset_y=nil,scale=0.8}},shield_l_log={assets=nil,image={name=nil,atlas=nil,setable=true},anim={bank="shield_l_log",build="shield_l_log",anim="idle",isloop_anim=nil,animpush=nil,isloop_animpush=nil,setable=true},equip={symbol=nil,build="shield_l_log",file="swap_shield"},exchangefx={prefab=nil,offset_y=nil,scale=0.7},floater={cut=nil,size="small",offset_y=0.2,scale=0.9,nofx=nil}},shield_l_sand={assets=nil,image={name=nil,atlas=nil,setable=true},anim={bank="shield_l_sand",build="shield_l_sand",anim="idle",isloop_anim=nil,animpush=nil,isloop_animpush=nil,setable=true},equip={symbol=nil,build="shield_l_sand",file="swap_shield"},exchangefx={prefab=nil,offset_y=nil,scale=nil}},tripleshovelaxe={assets=nil,image={name=nil,atlas=nil,setable=true},anim={bank=nil,build=nil,anim=nil,isloop_anim=nil,animpush=nil,isloop_animpush=nil,setable=true},equip={symbol="swap_object",build="tripleshovelaxe",file="swap"},exchangefx={prefab=nil,offset_y=nil,scale=nil},floater={cut=nil,size="med",offset_y=0.15,scale=0.4,nofx=nil}},triplegoldenshovelaxe={assets=nil,image={name=nil,atlas=nil,setable=true},anim={bank=nil,build=nil,anim=nil,isloop_anim=nil,animpush=nil,isloop_animpush=nil,setable=true},equip={symbol="swap_object",build="triplegoldenshovelaxe",file="swap"},exchangefx={prefab=nil,offset_y=nil,scale=nil},floater={cut=nil,size="med",offset_y=0.15,scale=0.4,nofx=nil}},backcub={assets=nil,image={name=nil,atlas=nil,setable=true},anim={bank="backcub",build="backcub",anim="anim",isloop_anim=true,animpush=nil,isloop_animpush=nil,setable=true},equip={symbol="swap_body",build="swap_backcub",file="swap_body"},exchangefx={prefab=nil,offset_y=nil,scale=nil},floater={cut=nil,size=nil,offset_y=nil,scale=nil,nofx=true,anim={bank="backcub",build="backcub",anim="anim_water",isloop_anim=true,animpush=nil,isloop_animpush=nil}}},fimbul_axe={assets=nil,image={name=nil,atlas=nil,setable=true},anim={bank="boomerang",build=nil,anim=nil,isloop_anim=nil,animpush=nil,isloop_animpush=nil,setable=true},equip={symbol="swap_object",build="fimbul_axe",file="swap_base"},exchangefx={prefab=nil,offset_y=nil,scale=nil},floater={cut=0.1,size="med",offset_y=0.3,scale=0.5,nofx=nil}},siving_derivant_lvl0={assets=nil,fn_start=function(f)f.AnimState:SetBank("siving_derivants")f.AnimState:SetBuild("siving_derivants")f.AnimState:SetScale(1.3,1.3)end,exchangefx={prefab=nil,offset_y=nil,scale=1.5}},siving_derivant_lvl1={assets=nil,fn_start=function(f)f.AnimState:SetBank("siving_derivants")f.AnimState:SetBuild("siving_derivants")f.AnimState:SetScale(1.3,1.3)end,exchangefx={prefab=nil,offset_y=nil,scale=1.5}},siving_derivant_lvl2={assets=nil,fn_start=function(f)f.AnimState:SetBank("siving_derivants")f.AnimState:SetBuild("siving_derivants")f.AnimState:SetScale(1.3,1.3)end,exchangefx={prefab=nil,offset_y=nil,scale=1.5}},siving_derivant_lvl3={assets=nil,fn_start=function(f)f.AnimState:SetBank("siving_derivants")f.AnimState:SetBuild("siving_derivants")f.AnimState:SetScale(1.3,1.3)end,exchangefx={prefab=nil,offset_y=nil,scale=1.5}},siving_turn={assets=nil,fn_start=function(f)H(f,"siving_turn",true)end,fn_fruit=function(F)E(F,"siving_turn")end,exchangefx={prefab=nil,offset_y=nil,scale=1.5}}}a.SKINS_LEGION={rosebush_marble={base_prefab="rosebush",type="item",skin_tags={},release_group=555,rarity=J,skin_id="619108a04c724c6f40e77bd4",assets={Asset("ANIM","anim/berrybush.zip"),Asset("ANIM","anim/skin/rosebush_marble.zip")},string=c and{name="理盛赤蔷",collection="MARBLE",access="DONATE",descitem="解锁\"蔷薇花丛\"的皮肤。",description="他和妻子辛苦半生，买下一个不知名庄园。庄园幽静，有些偏僻，但很快便被幸福浸满。他喜欢园艺，常和孩子一起用蔷薇等花束将庄园装点。好羡慕，曾经那么热闹非凡。他离世后，孩子卖掉庄园离开。好遗憾，只剩稀疏红蔷绽放证明着曾经的幸福。"}or{name="Rose Marble Pot",collection="MARBLE",access="DONATE",descitem="Unlock \"Rose Bush\" skin.",description="The story was not translated."},fn_start=function(f)f.AnimState:SetBank("berrybush")f.AnimState:SetBuild("rosebush_marble")end,exchangefx={prefab=nil,offset_y=nil,scale=1.5},linkedskins={rosorns="rosorns_marble"},placer={name=nil,bank="berrybush",build="rosebush_marble",anim="dead",prefabs={"dug_rosebush","cutted_rosebush"}}},rosorns_marble={base_prefab="rosorns",type="item",skin_tags={},release_group=555,rarity=J,skin_id="62e639928c2f781db2f79b3d",onlyownedshow=true,assets={Asset("ANIM","anim/skin/rosorns_marble.zip"),Asset("ATLAS","images/inventoryimages_skin/foliageath_rosorns_marble.xml"),Asset("IMAGE","images/inventoryimages_skin/foliageath_rosorns_marble.tex")},image={name=nil,atlas=nil,setable=true},string=c and{name="落薇剪",collection="MARBLE",access="SPECIAL",descitem="解锁\"带刺蔷薇\"以及入鞘后的皮肤。",description="几十年后，曾经的孩子们都已到垂暮之年，一起买回了幼时庄园，决意在这养老。多年无人照看，现在仅剩的几株蔷薇，被老人们精心修剪，悉心照料，很快又长成了记忆里的模样。寂静的庄园仿佛又响起了小孩欢跳的脚步和大声的嬉笑。"}or{name="Falling Petals Scissors",collection="MARBLE",access="SPECIAL",descitem="Unlock \"Rosorns\" skin.",description="The story was not translated."},anim={bank=nil,build=nil,anim=nil,isloop_anim=true,animpush=nil,isloop_animpush=nil,setable=true},equip={symbol="swap_object",build="rosorns_marble",file="swap_object"},fn_onAttack=function(f,g,N)local O=SpawnPrefab("rosorns_marble_fx")if O~=nil then O.Transform:SetPosition(N.Transform:GetWorldPosition())end end,scabbard={anim="idle_cover",isloop=true,bank="rosorns_marble",build="rosorns_marble",image="foliageath_rosorns_marble",atlas="images/inventoryimages_skin/foliageath_rosorns_marble.xml"},exchangefx={prefab=nil,offset_y=nil,scale=nil},floater={cut=0.15,size="small",offset_y=0.4,scale=0.5,nofx=nil}},lilybush_marble={base_prefab="lilybush",type="item",skin_tags={},release_group=555,rarity=J,skin_id="619116c74c724c6f40e77c40",assets={Asset("ANIM","anim/berrybush.zip"),Asset("ANIM","anim/skin/lilybush_marble.zip")},string=c and{name="理盛截莲",collection="MARBLE",access="DONATE",descitem="解锁\"蹄莲花丛\"的皮肤。",description="他们给自己办了个简单的婚礼，在初遇的湖边种下许多蹄莲以作纪念。很快边境传来战争，男人决定要去前线，兴冲冲为自己打造了一把精致的长枪。临别前，妻子交予他一封沾满泪痕的信件，男人送给妻子一盆精致的蹄莲。"}or{name="Lily Marble Pot",collection="MARBLE",access="DONATE",descitem="Unlock \"Lily Bush\" skin.",description="The story was not translated."},fn_start=function(f)f.AnimState:SetBank("berrybush")f.AnimState:SetBuild("lilybush_marble")end,exchangefx={prefab=nil,offset_y=nil,scale=nil},linkedskins={lileaves="lileaves_marble"},placer={name=nil,bank="berrybush",build="lilybush_marble",anim="dead",prefabs={"dug_lilybush","cutted_lilybush"}}},lileaves_marble={base_prefab="lileaves",type="item",skin_tags={},release_group=555,rarity=J,skin_id="62e535bd8c2f781db2f79ae7",onlyownedshow=true,assets={Asset("ANIM","anim/skin/lileaves_marble.zip"),Asset("ATLAS","images/inventoryimages_skin/foliageath_lileaves_marble.xml"),Asset("IMAGE","images/inventoryimages_skin/foliageath_lileaves_marble.tex")},image={name=nil,atlas=nil,setable=true},string=c and{name="石莲长枪",collection="MARBLE",access="SPECIAL",descitem="解锁\"蹄莲翠叶\"以及入鞘后的皮肤。",description="逃难途中，他发现一具伤痕累累的遗体，旁边还有一把精致的大理石长枪。他偷看了信封，顺路去了信中提到的地方，告诉了女人一切。女人伤心欲绝，拔掉了湖边所有蹄莲，拜托他沿路撒下。之后，据说她将长枪绑在身上，投入了湖中。"}or{name="Marble Lilance",collection="MARBLE",access="SPECIAL",descitem="Unlock \"Lileaves\" skin.",description="The story was not translated."},anim={bank=nil,build=nil,anim=nil,isloop_anim=nil,animpush=nil,isloop_animpush=nil,setable=true},equip={symbol="swap_object",build="lileaves_marble",file="swap_object"},scabbard={anim="idle_cover",isloop=nil,bank="lileaves_marble",build="lileaves_marble",image="foliageath_lileaves_marble",atlas="images/inventoryimages_skin/foliageath_lileaves_marble.xml"},exchangefx={prefab=nil,offset_y=nil,scale=nil},floater={cut=0.15,size="small",offset_y=0.4,scale=0.6,nofx=nil}},orchidbush_marble={base_prefab="orchidbush",type="item",skin_tags={},release_group=555,rarity=J,skin_id="6191d0514c724c6f40e77eb9",assets={Asset("ANIM","anim/berrybush.zip"),Asset("ANIM","anim/skin/orchidbush_marble.zip")},string=c and{name="理盛瀑兰",collection="MARBLE",access="DONATE",descitem="解锁\"兰草花丛\"的皮肤。",description="铁匠一眼钟情于那位卖花女子。朝思暮想，每天都来她这买一束兰花，只为能说上几句话。他很想说出来，无法言语就用行动来表达。他不惜划破双手，打造了铁艺花架，将之前买的所有兰花都种在花架上面。匆忙送于她便跑开。"}or{name="Orchid Marble Pot",collection="MARBLE",access="DONATE",descitem="Unlock \"Orchid Bush\" skin.",description="The story was not translated."},fn_start=function(f)f.AnimState:SetBank("berrybush")f.AnimState:SetBuild("orchidbush_marble")end,exchangefx={prefab=nil,offset_y=1.3,scale=nil},linkedskins={orchitwigs="orchitwigs_marble"},placer={name=nil,bank="berrybush",build="orchidbush_marble",anim="dead",prefabs={"dug_orchidbush","cutted_orchidbush"}}},orchitwigs_marble={base_prefab="orchitwigs",type="item",skin_tags={},release_group=555,rarity=J,skin_id="62e61d158c2f781db2f79b1e",onlyownedshow=true,assets={Asset("ANIM","anim/skin/orchitwigs_marble.zip"),Asset("ATLAS","images/inventoryimages_skin/foliageath_orchitwigs_marble.xml"),Asset("IMAGE","images/inventoryimages_skin/foliageath_orchitwigs_marble.tex")},image={name=nil,atlas=nil,setable=true},string=c and{name="铁艺兰珊",collection="MARBLE",access="SPECIAL",descitem="解锁\"兰草花穗\"以及入鞘后的皮肤。",description="铁匠后来知道她每天卖花很晚都要走夜路回家，于是打造了一把精致的铁艺剑，剑心处嵌有几朵玻璃兰花。这次，他不再羞怯，当面将其赠予女子。大伙早就看出两人心意，都纷纷停下为他两拍手起哄。两人欢喜相拥。"}or{name="Ironchid",collection="MARBLE",access="SPECIAL",descitem="Unlock \"Orchitwigs\" skin.",description="The story was not translated."},anim={bank=nil,build=nil,anim=nil,isloop_anim=nil,animpush=nil,isloop_animpush=nil,setable=true},equip={symbol="swap_object",build="orchitwigs_marble",file="swap_object",atkfx="impact_orchid_fx_marble"},scabbard={anim="idle_cover",isloop=nil,bank="orchitwigs_marble",build="orchitwigs_marble",image="foliageath_orchitwigs_marble",atlas="images/inventoryimages_skin/foliageath_orchitwigs_marble.xml"},exchangefx={prefab=nil,offset_y=nil,scale=nil},floater={cut=0.05,size="small",offset_y=0.15,scale=0.5,nofx=nil}},orchitwigs_disguiser={base_prefab="orchitwigs",type="item",skin_tags={},release_group=555,rarity=K,skin_id="freeskins",assets={Asset("ANIM","anim/skin/orchitwigs_disguiser.zip"),Asset("ATLAS","images/inventoryimages_skin/orchitwigs_disguiser.xml"),Asset("IMAGE","images/inventoryimages_skin/orchitwigs_disguiser.tex"),Asset("ATLAS","images/inventoryimages_skin/foliageath_orchitwigs_disguiser.xml"),Asset("IMAGE","images/inventoryimages_skin/foliageath_orchitwigs_disguiser.tex")},image={name=nil,atlas=nil,setable=true},string=c and{name="粉色追猎",collection="DISGUISER",access="FREE",descitem="解锁\"兰草花穗\"以及入鞘后的皮肤。",description="这片粉色花园是它的生活的点点滴滴。它打点自己的小天地，也借花谋生。它藏在自己的伪装里，招蜂引蝶，追猎而食。芸芸言它残勤劳心害美丽身，它无所顾忌，刹那间伸出死亡利爪又消失于粉脂。"}or{name="Pink Orchitwigs",collection="DISGUISER",access="FREE",descitem="Unlock \"Orchitwigs\" skin.",description="The story was not translated."},anim={bank=nil,build=nil,anim=nil,isloop_anim=nil,animpush=nil,isloop_animpush=nil,setable=true},equip={symbol="swap_object",build="orchitwigs_disguiser",file="swap_object",atkfx="impact_orchid_fx_disguiser"},scabbard={anim="idle_cover",isloop=nil,bank="orchitwigs_disguiser",build="orchitwigs_disguiser",image="foliageath_orchitwigs_disguiser",atlas="images/inventoryimages_skin/foliageath_orchitwigs_disguiser.xml"},exchangefx={prefab=nil,offset_y=nil,scale=nil},floater={cut=0.05,size="small",offset_y=0.15,scale=0.5,nofx=nil}},orchidbush_disguiser={base_prefab="orchidbush",type="item",skin_tags={},release_group=555,rarity=J,skin_id="626029b9c340bf24ab31057a",onlyownedshow=true,assets={Asset("ANIM","anim/berrybush2.zip"),Asset("ANIM","anim/skin/orchidbush_disguiser.zip")},string=c and{name="粉色猎园",collection="DISGUISER",access="SPECIAL",descitem="解锁\"兰草花丛\"的皮肤。",description="猎人从不离开它的狩猎花园，毕竟这里有生活的点点滴滴。直至忽来风雨将猎人打落花枝，它不见踪迹。日月轮转，花开花落，它等了好久好久，始终不见猎人归来，它知道再也见不到那潇洒身影与狩猎姿态。\"猎人会回来的\"，它这样说道。"}or{name="Pink Orchid Bush",collection="DISGUISER",access="SPECIAL",descitem="Unlock \"Orchid Bush\" skin.",description="The story was not translated."},fn_start=function(f)f.AnimState:SetBank("berrybush2")f.AnimState:SetBuild("orchidbush_disguiser")end,exchangefx={prefab=nil,offset_y=1.3,scale=nil},linkedskins={orchitwigs="orchitwigs_disguiser"},placer={name=nil,bank="berrybush2",build="orchidbush_disguiser",anim="dead",prefabs={"dug_orchidbush","cutted_orchidbush"}}},neverfade_thanks={base_prefab="neverfade",type="item",skin_tags={},release_group=555,rarity=L,skin_id="6191d8f74c724c6f40e77ed0",onlyownedshow=true,assets={Asset("ANIM","anim/skin/neverfade_thanks.zip"),Asset("ANIM","anim/skin/neverfade_butterfly_thanks.zip"),Asset("ATLAS","images/inventoryimages_skin/neverfade_thanks.xml"),Asset("IMAGE","images/inventoryimages_skin/neverfade_thanks.tex"),Asset("ATLAS","images/inventoryimages_skin/neverfade_thanks_broken.xml"),Asset("IMAGE","images/inventoryimages_skin/neverfade_thanks_broken.tex"),Asset("ATLAS","images/inventoryimages_skin/foliageath_neverfade_thanks.xml"),Asset("IMAGE","images/inventoryimages_skin/foliageath_neverfade_thanks.tex")},image={name=nil,atlas=nil,setable=false},string=c and{name="扶伤",collection="THANKS",access="SPECIAL",descitem="解锁\"永不凋零\"、\"永不凋零花丛\"、\"庇佑蝴蝶\"以及入鞘后的皮肤。",description="雌雄狂刀疯狂挥舞，招招致命。他手持青玉扶伤剑，欲以还击。刹时刀光四射青光蝶影，一刺一避一挥一转，双方都要使取命一击。最后，只见玉断剑折，有身影逍遥离去。恶徒终除，十年血案终有结果。"}or{name="FuShang",collection="THANKS",access="SPECIAL",descitem="Unlock \"Neverfade\", \"Neverfade Bush\", and \"Neverfade Butterfly\" skin.",description="The story was not translated."},anim={bank=nil,build=nil,anim=nil,isloop_anim=nil,animpush=nil,isloop_animpush=nil,setable=true},fn_start=function(f)if f.hasSetBroken then f.components.inventoryitem.atlasname="images/inventoryimages_skin/neverfade_thanks_broken.xml"f.components.inventoryitem:ChangeImageName("neverfade_thanks_broken")else f.components.inventoryitem.atlasname="images/inventoryimages_skin/neverfade_thanks.xml"f.components.inventoryitem:ChangeImageName("neverfade_thanks")end end,equip={symbol="swap_object",build="neverfade_thanks",file="normal_swap",build_broken="neverfade_thanks",file_broken="broken_swap"},scabbard={anim="idle_cover",isloop=nil,bank="neverfade_thanks",build="neverfade_thanks",image="foliageath_neverfade_thanks",atlas="images/inventoryimages_skin/foliageath_neverfade_thanks.xml"},butterfly={bank="butterfly",build="neverfade_butterfly_thanks"},exchangefx={prefab=nil,offset_y=nil,scale=nil},floater={cut=0.05,size="small",offset_y=0.15,scale=0.5,nofx=nil},linkedskins={bush="neverfadebush_thanks"},placer={name=nil,bank="neverfadebush_thanks",build="neverfadebush_thanks",anim="dead",prefabs=nil}},neverfadebush_thanks={base_prefab="neverfadebush",type="item",skin_tags={},release_group=555,rarity=L,skin_id="6191d8f74c724c6f40e77ed0",noshopshow=true,assets={Asset("ANIM","anim/skin/neverfadebush_thanks.zip")},string={name=c and"扶伤剑冢"or"FuShang Tomb",collection="THANKS",access="SPECIAL"},fn_start=function(f)f.AnimState:SetBank("neverfadebush_thanks")f.AnimState:SetBuild("neverfadebush_thanks")end,exchangefx={prefab=nil,offset_y=1.2,scale=nil},linkedskins={sword="neverfade_thanks"}},hat_lichen_emo_que={base_prefab="hat_lichen",type="item",skin_tags={},release_group=555,rarity=J,skin_id="61909c584c724c6f40e779fa",assets={Asset("ANIM","anim/skin/hat_lichen_emo_que.zip")},image={name=nil,atlas=nil,setable=true},string=c and{name="\"困惑\"发卡",collection="EMOTICON",access="DONATE",descitem="解锁\"苔衣发卡\"的皮肤。",description="我有个疑问。不对，我为啥会有这个想法？就在我想提出问题时，心里就会有个阴影质疑我的问题：\"你提出这些问题难道不该想想是你自己的问题还是真的有问题\"。然后我又会问它，凭什么你这个问题觉得我的问题有问题！"}or{name="Question Hairpin",collection="EMOTICON",access="DONATE",descitem="Unlock \"Lichen Hairpin\" skin.",description="The story was not translated."},anim={bank=nil,build=nil,anim=nil,isloop_anim=nil,animpush=nil,isloop_animpush=nil,setable=true},equip={symbol="swap_hat",build="hat_lichen_emo_que",file="swap_hat",isopenhat=true},exchangefx={prefab=nil,offset_y=nil,scale=nil},floater={cut=0.03,size="small",offset_y=0.15,scale=0.5,nofx=nil}},hat_lichen_disguiser={base_prefab="hat_lichen",type="item",skin_tags={},release_group=555,rarity=K,skin_id="freeskins",assets={Asset("ANIM","anim/skin/hat_lichen_disguiser.zip")},image={name=nil,atlas=nil,setable=true},string=c and{name="深渊的星",collection="DISGUISER",access="FREE",descitem="解锁\"苔衣发卡\"的皮肤。",description="洋流之下，是暗流涌动的深渊。终年阴暗，这里的生物都渴望光明。偶尔会有忽闪忽闪的淡蓝色星光，小小鱼虾们前去追寻。越游越近，突现一张长满尖牙的恐怖大嘴一口咬了下来。"}or{name="Abyss Star Hairpin",collection="DISGUISER",access="FREE",descitem="Unlock \"Lichen Hairpin\" skin.",description="The story was not translated."},anim={bank=nil,build=nil,anim=nil,isloop_anim=nil,animpush=nil,isloop_animpush=nil,setable=true},equip={symbol="swap_hat",build="hat_lichen_disguiser",file="swap_hat",isopenhat=false,lightcolor={r=0,g=1,b=1}},exchangefx={prefab=nil,offset_y=nil,scale=nil},floater={cut=0.03,size="med",offset_y=0.2,scale=0.7,nofx=nil}},hat_cowboy_tvplay={base_prefab="hat_cowboy",type="item",skin_tags={},release_group=555,rarity=K,skin_id="freeskins",assets={Asset("ANIM","anim/skin/hat_cowboy_tvplay.zip")},image={name=nil,atlas=nil,setable=true},string=c and{name="卡尔的警帽，永远",collection="TVPLAY",access="FREE",descitem="解锁\"牛仔帽\"的皮肤。",description="卡尔回基地途中拐过树丛时被突然冲出的三个丧尸扑倒，慌忙解决麻烦后感到肚子刺痛，掀起衬衣发现自己已被咬伤...年过三十的卡尔惊醒，看了看还在熟睡的妻女，又望了望桌上警徽虽早已脱落但保养还算完好的警帽，感叹还好只是梦一场。"}or{name="Carl's Forever Police Cap",collection="TVPLAY",access="FREE",descitem="Unlock \"Stetson\" skin.",description="The story was not translated."},anim={bank=nil,build=nil,anim=nil,isloop_anim=nil,animpush=nil,isloop_animpush=nil,setable=true},equip={symbol="swap_hat",build="hat_cowboy_tvplay",file="swap_hat"},exchangefx={prefab=nil,offset_y=nil,scale=nil},floater={cut=0.03,size="med",offset_y=0.2,scale=0.8,nofx=nil}},boltwingout_disguiser={base_prefab="boltwingout",type="item",skin_tags={},release_group=555,rarity=J,skin_id="61c57daadb102b0b8a50ae95",assets={Asset("ANIM","anim/skin/boltwingout_disguiser.zip"),Asset("ANIM","anim/skin/boltwingout_shuck_disguiser.zip")},image={name=nil,atlas=nil,setable=true},string=c and{name="枯叶飞舞",collection="DISGUISER",access="DONATE",descitem="解锁\"脱壳之翅\"、\"羽化后的壳\"的皮肤。",description="它进化出了一对枯叶般的翅膀。饿了，花丛中有落叶辗转；恋了，风中有落叶双双飞舞；累了，树干上有落叶停留。这不夺人耳目的一生，最终也会悄悄离场。"}or{name="Fallen Dance",collection="DISGUISER",access="DONATE",descitem="Unlock \"Boltwing-out\", \"Post-eclosion Shuck\" skin.",description="The story was not translated."},anim={bank=nil,build=nil,anim=nil,isloop_anim=nil,animpush=nil,isloop_animpush=nil,setable=true},equip={symbol="swap_body",build="boltwingout_disguiser",file="swap_body"},boltdata={fx="boltwingout_fx_disguiser",build="boltwingout_shuck_disguiser"},exchangefx={prefab=nil,offset_y=nil,scale=nil},floater={cut=nil,size="med",offset_y=0.1,scale=0.8,nofx=nil}},fishhomingtool_awesome_thanks={base_prefab="fishhomingtool_awesome",type="item",skin_tags={},release_group=555,rarity=L,skin_id="627f66c0c340bf24ab311783",onlyownedshow=true,assets={Asset("ANIM","anim/skin/fishhomingtool_awesome_thanks.zip")},image={name=nil,atlas=nil,setable=true},string=c and{name="云烟",collection="THANKS",access="SPECIAL",descitem="解锁\"简易打窝饵制作器\"、\"专业打窝饵制作器\"和\"打窝饵\"的皮肤。",description="\"早闻浮生儿与扶伤剑现任持有者有着密不可分的联系。近日密探来报说扶伤剑已断，预感这次势在必得，并派人在京城散播浮生儿已被捉入衙内的消息...\"当夜丑时，云烟之雾开始浑浊，随后突然庭院异响，\"上钩了\"，一名颓郁男子正隐匿于烟雾中等待时机。"}or{name="YunYan",collection="THANKS",access="SPECIAL",descitem="Unlock \"Fish-homing Bait Maker\", \"Fish-homing Bait Maker+\", and \"Fish-homing Bait\" skin.",description="The story was not translated."},anim={bank=nil,build=nil,anim=nil,isloop_anim=nil,animpush=nil,isloop_animpush=nil,setable=true},fn_start=function(f)f.components.bundlemaker:SetSkinData("fishhomingbait_thanks",nil)end,equip={symbol="swap_object",build="fishhomingtool_awesome_thanks",file="swap"},exchangefx={prefab=nil,offset_y=nil,scale=0.8}},fishhomingtool_normal_thanks={base_prefab="fishhomingtool_normal",type="item",skin_tags={},release_group=555,rarity=L,skin_id="627f66c0c340bf24ab311783",noshopshow=true,assets={Asset("ANIM","anim/skin/fishhomingtool_normal_thanks.zip")},image={name=nil,atlas=nil,setable=true},string={name=c and"云烟草"or"YunYan Cigarette",collection="THANKS",access="SPECIAL"},anim={bank=nil,build=nil,anim=nil,isloop_anim=nil,animpush=nil,isloop_animpush=nil,setable=true},fn_start=function(f)f.components.bundlemaker:SetSkinData("fishhomingbait_thanks",nil)end,exchangefx={prefab=nil,offset_y=nil,scale=0.8}},fishhomingbait_thanks={base_prefab="fishhomingbait",type="item",skin_tags={},release_group=555,rarity=L,skin_id="627f66c0c340bf24ab311783",noshopshow=true,assets={Asset("ANIM","anim/pollen_chum.zip"),Asset("ANIM","anim/skin/fishhomingbait_thanks.zip"),Asset("ATLAS","images/inventoryimages_skin/fishhomingbait1_thanks.xml"),Asset("IMAGE","images/inventoryimages_skin/fishhomingbait1_thanks.tex"),Asset("ATLAS","images/inventoryimages_skin/fishhomingbait2_thanks.xml"),Asset("IMAGE","images/inventoryimages_skin/fishhomingbait2_thanks.tex"),Asset("ATLAS","images/inventoryimages_skin/fishhomingbait3_thanks.xml"),Asset("IMAGE","images/inventoryimages_skin/fishhomingbait3_thanks.tex")},image={name=nil,atlas=nil,setable=false},string={name=c and"云烟瓶"or"YunYan Bottle",collection="THANKS",access="SPECIAL"},fn_start=function(f)f.baitimgs_l={dusty={img="fishhomingbait1_thanks",atlas="images/inventoryimages_skin/fishhomingbait1_thanks.xml",anim="idle1",swap="swap1",symbol="base1",build="fishhomingbait_thanks"},pasty={img="fishhomingbait2_thanks",atlas="images/inventoryimages_skin/fishhomingbait2_thanks.xml",anim="idle2",swap="swap2",symbol="base2",build="fishhomingbait_thanks"},hardy={img="fishhomingbait3_thanks",atlas="images/inventoryimages_skin/fishhomingbait3_thanks.xml",anim="idle3",swap="swap3",symbol="base3",build="fishhomingbait_thanks"}}f.AnimState:SetBank("fishhomingbait_thanks")f.AnimState:SetBuild("fishhomingbait_thanks")if f.components.fishhomingbait and f.components.fishhomingbait.oninitfn then f.components.fishhomingbait.oninitfn(f)end end,baiting={bank="pollen_chum",build="pollen_chum"},exchangefx={prefab=nil,offset_y=nil,scale=0.8}},shield_l_log_emo_pride={base_prefab="shield_l_log",type="item",skin_tags={},release_group=555,rarity=K,skin_id="freeskins",assets={Asset("ANIM","anim/skin/shield_l_log_emo_pride.zip")},image={name=nil,atlas=nil,setable=true},string=c and{name="爱上彩虹",collection="EMOTICON",access="FREE",descitem="解锁\"木盾\"的皮肤。",description="多一丝宽容，你就少一份疑惑；多一丝爱心，你就少一份怨恨；多一丝理解，你就少一份紧张。你我都是独一无二，为自己骄傲吧。"}or{name="Love Rainbow",collection="EMOTICON",access="FREE",descitem="Unlock \"Log Shield\" skin.",description="More tolerance,less doubt.More love,less resentment.More understanding,less nervousness.You and I are unique.Be proud of yourself."},anim={bank=nil,build=nil,anim=nil,isloop_anim=nil,animpush=nil,isloop_animpush=nil,setable=true},equip={symbol="lantern_overlay",build="shield_l_log_emo_pride",file="swap_shield"},exchangefx={prefab=nil,offset_y=nil,scale=0.7},floater={cut=nil,size="small",offset_y=0.2,scale=0.9,nofx=nil},fn_start=function(f)t(f,{"fx_ranimbowspark"},-10)end,fn_end=v},shield_l_log_emo_fist={base_prefab="shield_l_log",type="item",skin_tags={},release_group=555,rarity=J,skin_id="629b0d278c2f781db2f77ef8",onlyownedshow=true,assets={Asset("ANIM","anim/skin/shield_l_log_emo_fist.zip")},image={name=nil,atlas=nil,setable=true},string=c and{name="重拳出击",collection="EMOTICON",access="SPECIAL",descitem="解锁\"木盾\"的皮肤。",description="观点不一，骂Ta；羡慕嫉妒，恨Ta；没有黑点？监视Ta。不管发生什么，敲起键盘如同打拳，咬文嚼字断章取义也能搞得鸡飞狗跳。非我皆是恶，活在自己的世界，这就是拳的意义。打的就是你，陌生人。"}or{name="Punch Quest",collection="EMOTICON",access="SPECIAL",descitem="Unlock \"Log Shield\" skin.",description="The story was not translated."},anim={bank=nil,build=nil,anim=nil,isloop_anim=nil,animpush=nil,isloop_animpush=nil,setable=true},equip={symbol="lantern_overlay",build="shield_l_log_emo_fist",file="swap_shield"},exchangefx={prefab=nil,offset_y=nil,scale=0.6},floater={cut=nil,size="small",offset_y=0.2,scale=0.8,nofx=nil}},shield_l_log_era={base_prefab="shield_l_log",type="item",skin_tags={},release_group=555,rarity=J,skin_id="629b0d088c2f781db2f77ef4",onlyownedshow=true,assets={Asset("ANIM","anim/skin/shield_l_log_era.zip")},image={name=nil,atlas=nil,setable=true},string=c and{name="洋流之下匍匐",collection="ERA",access="SPECIAL",descitem="解锁\"木盾\"的皮肤。",description="奔涌回转的洋流，它们的大家族聚集着散布于看似沉寂的海床。沙子上沾满了行动的足迹，都是它们漫无目的的匍匐寻找。在一段时光里，能顽强地生存在这里，真的是太不可思议了。抱着科学研究的心态，决定去那里走走，一定有更多我能听到的。"}or{name="Under Current Crawl",collection="ERA",access="SPECIAL",descitem="Unlock \"Log Shield\" skin.",description="The story was not translated."},anim={bank=nil,build=nil,anim=nil,isloop_anim=nil,animpush=nil,isloop_animpush=nil,setable=true},equip={symbol="lantern_overlay",build="shield_l_log_era",file="swap_shield"},exchangefx={prefab=nil,offset_y=nil,scale=0.7},floater={cut=nil,size="small",offset_y=0.2,scale=0.8,nofx=nil}},shield_l_sand_era={base_prefab="shield_l_sand",type="item",skin_tags={},release_group=555,rarity=J,skin_id="62845917c340bf24ab311969",onlyownedshow=true,assets={Asset("ANIM","anim/skin/shield_l_sand_era.zip")},image={name=nil,atlas=nil,setable=true},string=c and{name="坚硬头骨低鸣",collection="ERA",access="SPECIAL",descitem="解锁\"砂之抵御\"的皮肤。",description="在一个不起眼的角落它孤独着，被摆在那里，整个头部包括头甲都暴露在外，身体却只剩部分脊骨。某一瞬间，我仿佛看到了，与族群走散，在孤独与绝望的低鸣中被捕食者包围...还好，在生命尽头，大地之母将它怀抱，将它灵魂轻揉。"}or{name="Squealing Skull",collection="ERA",access="SPECIAL",descitem="Unlock \"Desert Defense\" skin.",description="The story was not translated."},anim={bank=nil,build=nil,anim=nil,isloop_anim=nil,animpush=nil,isloop_animpush=nil,setable=true},equip={symbol="lantern_overlay",build="shield_l_sand_era",file="swap_shield"},exchangefx={prefab=nil,offset_y=nil,scale=0.8}},shield_l_sand_op={base_prefab="shield_l_sand",type="item",skin_tags={},release_group=555,rarity=K,skin_id="freeskins",assets={Asset("ANIM","anim/skin/shield_l_sand_op.zip")},image={name=nil,atlas=nil,setable=true},string=c and{name="旧稿",collection="OLDPIC",access="FREE",descitem="解锁\"砂之抵御\"的皮肤。",description="画完就觉得左右貌似不太整齐，但是都画好，不想再改。现在我绘画时会不时左右翻转来查看画面的问题，也算是一个进步吧。贴图上结合了沙之石的纹路以及大量向外突出的晶石，中间是金块，现在想想金块不足以被摆在中间好像很重要似的。"}or{name="Squealing Skull",collection="OLDPIC",access="FREE",descitem="Unlock \"Desert Defense\" skin.",description="The story was not translated."},anim={bank=nil,build=nil,anim=nil,isloop_anim=nil,animpush=nil,isloop_animpush=nil,setable=true},equip={symbol="lantern_overlay",build="shield_l_sand_op",file="swap_shield"},exchangefx={prefab=nil,offset_y=nil,scale=0.8}},icire_rock_era={base_prefab="icire_rock",type="item",skin_tags={},release_group=555,rarity=J,skin_id="6280d4f2c340bf24ab3118b1",onlyownedshow=true,assets={Asset("ANIM","anim/skin/icire_rock_era.zip"),Asset("ATLAS","images/inventoryimages_skin/icire_rock1_era.xml"),Asset("IMAGE","images/inventoryimages_skin/icire_rock1_era.tex"),Asset("ATLAS","images/inventoryimages_skin/icire_rock2_era.xml"),Asset("IMAGE","images/inventoryimages_skin/icire_rock2_era.tex"),Asset("ATLAS","images/inventoryimages_skin/icire_rock3_era.xml"),Asset("IMAGE","images/inventoryimages_skin/icire_rock3_era.tex"),Asset("ATLAS","images/inventoryimages_skin/icire_rock4_era.xml"),Asset("IMAGE","images/inventoryimages_skin/icire_rock4_era.tex"),Asset("ATLAS","images/inventoryimages_skin/icire_rock5_era.xml"),Asset("IMAGE","images/inventoryimages_skin/icire_rock5_era.tex")},image={name=nil,atlas=nil,setable=false},string=c and{name="被封存的窸窣",collection="ERA",access="SPECIAL",descitem="解锁\"鸳鸯石\"的皮肤。",description="我走进了一家博物馆，刹那，仿佛听到一阵朦朦胧胧的低语，又或是窸窸窣窣的昆虫振翅声。向着声音的方向看去，有一颗西瓜大小的精美琥珀。走进后，里面居然还包裹了一只仿佛仍活着的带翅昆虫。诧异的是，我感受到了它对生命突然凝滞的不甘..."}or{name="Sealed Rustle",collection="ERA",access="SPECIAL",descitem="Unlock \"Icire Stone\" skin.",description="The story was not translated."},fn_start=function(f)f.AnimState:SetBank("heat_rock")f.AnimState:SetBuild("heat_rock")f.AnimState:OverrideSymbol("rock","icire_rock_era","rock")f.AnimState:OverrideSymbol("shadow","icire_rock_era","shadow")f.changeimgfn=function(f)local M="icire_rock"..tostring(f.currentTempRange).."_era"f.components.inventoryitem.atlasname="images/inventoryimages_skin/"..M..".xml"f.components.inventoryitem:ChangeImageName(M)end;f.changeimgfn(f)end,exchangefx={prefab=nil,offset_y=nil,scale=0.8}},icire_rock_collector={base_prefab="icire_rock",type="item",skin_tags={},release_group=555,rarity=L,skin_id="62df65b58c2f781db2f7998a",onlyownedshow=true,assets={Asset("ANIM","anim/skin/icire_rock_collector.zip"),Asset("ATLAS","images/inventoryimages_skin/icire_rock1_collector.xml"),Asset("IMAGE","images/inventoryimages_skin/icire_rock1_collector.tex"),Asset("ATLAS","images/inventoryimages_skin/icire_rock2_collector.xml"),Asset("IMAGE","images/inventoryimages_skin/icire_rock2_collector.tex"),Asset("ATLAS","images/inventoryimages_skin/icire_rock3_collector.xml"),Asset("IMAGE","images/inventoryimages_skin/icire_rock3_collector.tex"),Asset("ATLAS","images/inventoryimages_skin/icire_rock4_collector.xml"),Asset("IMAGE","images/inventoryimages_skin/icire_rock4_collector.tex"),Asset("ATLAS","images/inventoryimages_skin/icire_rock5_collector.xml"),Asset("IMAGE","images/inventoryimages_skin/icire_rock5_collector.tex")},image={name=nil,atlas=nil,setable=false},string=c and{name="占星石",collection="COLLECTOR",access="SPECIAL",descitem="解锁\"鸳鸯石\"的皮肤。",description="我族世代守护占星石，并流传着一个不可思议的秘密。占星石每三百年都会选中一位族人，只有他能读懂占星预言。到那时只要听从星的指导，就能让我族发扬兴盛，摆脱命运安排。然而，距离上一位族人逝去已过快四百年，占星石也只剩隐隐的光。"}or{name="Astrological Stone",collection="COLLECTOR",access="SPECIAL",descitem="Unlock \"Icire Stone\" skin.",description="The story was not translated."},fn_start=function(f)f.AnimState:SetBank("icire_rock_collector")f.AnimState:SetBuild("icire_rock_collector")f.AnimState:ClearOverrideSymbol("rock")f.AnimState:ClearOverrideSymbol("shadow")f.changeimgfn=function(f)local M="icire_rock"..tostring(f.currentTempRange).."_collector"f.components.inventoryitem.atlasname="images/inventoryimages_skin/"..M..".xml"f.components.inventoryitem:ChangeImageName(M)end;f.changeimgfn(f)end,exchangefx={prefab=nil,offset_y=nil,scale=0.8}},lilybush_era={base_prefab="lilybush",type="item",skin_tags={},release_group=555,rarity=J,skin_id="629b0d5f8c2f781db2f77f0d",onlyownedshow=true,assets={Asset("ANIM","anim/berrybush2.zip"),Asset("ANIM","anim/skin/lilybush_era.zip")},string=c and{name="满布大地婆娑",collection="ERA",access="SPECIAL",descitem="解锁\"蹄莲花丛\"、\"蹄莲翠叶\"以及入鞘后的皮肤。",description="从奇异的地下河暗道中返回后，脑海中不断回响洞内的蓝色荧光。细长的蕨叶互相轻触，随风摆动，巨大的蓝色花朵极具迷幻色彩，让人目不暇接陷入其中。花叶婆娑的样子真的久久不能忘怀，仿佛有股魔力将思绪不断拉回昨日。"}or{name="Platycerium Bush",collection="ERA",access="SPECIAL",descitem="Unlock \"Lily Bush\", \"Lileaves\" skin.",description="The story was not translated."},fn_start=function(f)f.AnimState:SetBank("berrybush2")f.AnimState:SetBuild("lilybush_era")end,exchangefx={prefab=nil,offset_y=nil,scale=1.5},linkedskins={lileaves="lileaves_era"},placer={name=nil,bank="berrybush2",build="lilybush_era",anim="dead",prefabs={"dug_lilybush","cutted_lilybush"}}},lileaves_era={base_prefab="lileaves",type="item",skin_tags={},release_group=555,rarity=J,skin_id="629b0d5f8c2f781db2f77f0d",noshopshow=true,assets={Asset("ANIM","anim/skin/lileaves_era.zip"),Asset("ATLAS","images/inventoryimages_skin/foliageath_lileaves_era.xml"),Asset("IMAGE","images/inventoryimages_skin/foliageath_lileaves_era.tex")},image={name=nil,atlas=nil,setable=true},string={name=c and"花叶婆娑"or"Platycerium Leaves",collection="ERA",access="SPECIAL"},anim={bank=nil,build=nil,anim=nil,isloop_anim=nil,animpush=nil,isloop_animpush=nil,setable=true},equip={symbol="swap_object",build="lileaves_era",file="swap_object"},scabbard={anim="idle_cover",isloop=nil,bank="lileaves_era",build="lileaves_era",image="foliageath_lileaves_era",atlas="images/inventoryimages_skin/foliageath_lileaves_era.xml"},exchangefx={prefab=nil,offset_y=nil,scale=nil},floater={cut=0.05,size="small",offset_y=0.15,scale=0.5,nofx=nil}},triplegoldenshovelaxe_era={base_prefab="triplegoldenshovelaxe",type="item",skin_tags={},release_group=555,rarity=J,skin_id="629b0d848c2f781db2f77f11",onlyownedshow=true,assets={Asset("ANIM","anim/skin/triplegoldenshovelaxe_era.zip")},image={name=nil,atlas=nil,setable=true},string=c and{name="长河探索叮咚",collection="ERA",access="SPECIAL",descitem="解锁\"斧铲-三用型\"、\"斧铲-黄金三用型\"的皮肤。",description="几年前我参加了学校组织的考古活动，地点在一个新发现的古老河道。老师同学们在附近叮叮咚咚敲着找着，我发现了一条凿有奇怪图腾的地下河入口，莫名被吸引进去，洞内闪着蓝色荧光并有细流经过，待我出来时，已是次日傍晚。"}or{name="Era River Explorer",collection="ERA",access="SPECIAL",descitem="Unlock \"Triple-shovelaxe\", \"Snazzy Triple-shovelaxe\" skin.",description="The story was not translated."},anim={bank=nil,build=nil,anim=nil,isloop_anim=nil,animpush=nil,isloop_animpush=nil,setable=true},equip={symbol="swap_object",build="triplegoldenshovelaxe_era",file="swap"},exchangefx={prefab=nil,offset_y=nil,scale=nil},floater={cut=nil,size="med",offset_y=0.15,scale=0.4,nofx=nil}},tripleshovelaxe_era={base_prefab="tripleshovelaxe",type="item",skin_tags={},release_group=555,rarity=J,skin_id="629b0d848c2f781db2f77f11",noshopshow=true,assets={Asset("ANIM","anim/skin/tripleshovelaxe_era.zip")},image={name=nil,atlas=nil,setable=true},string={name=c and"谷地发现叮咚"or"Era Valley Explorer",collection="ERA",access="SPECIAL"},anim={bank=nil,build=nil,anim=nil,isloop_anim=nil,animpush=nil,isloop_animpush=nil,setable=true},equip={symbol="swap_object",build="tripleshovelaxe_era",file="swap"},exchangefx={prefab=nil,offset_y=nil,scale=nil},floater={cut=nil,size="med",offset_y=0.15,scale=0.4,nofx=nil}},backcub_fans={base_prefab="backcub",type="item",skin_tags={},release_group=555,rarity=K,skin_id="629cca398c2f781db2f78092",onlyownedshow=true,assets={Asset("ANIM","anim/skin/backcub_fans.zip")},image={name=nil,atlas=nil,setable=true},string=c and{name="饭仔",collection="FANS",access="FREE",descitem="解锁\"靠背熊\"的皮肤。",description="他叫饭仔，有着简单的几个爱好。吃饭饭，能吃就行；睡觉觉，要抱着他最爱的偶像抱枕才睡得着；不过，他最喜欢的还是给朋友们爱的抱抱。\n--感谢白饭的绘制"}or{name="Kid Fan",collection="FANS",access="FREE",descitem="Unlock \"Backcub\" skin.",description="The story was not translated."},anim={bank=nil,build=nil,anim=nil,isloop_anim=nil,animpush=nil,isloop_animpush=nil,setable=true},equip={symbol="swap_body",build="backcub_fans",file="swap_body"},exchangefx={prefab=nil,offset_y=nil,scale=nil},floater={cut=nil,size="med",offset_y=0.1,scale=1.1,nofx=nil}},backcub_thanks={base_prefab="backcub",type="item",skin_tags={},release_group=555,rarity=L,skin_id="62f235928c2f781db2f7a2dd",onlyownedshow=true,assets={Asset("ANIM","anim/skin/backcub_thanks.zip")},image={name=nil,atlas=nil,setable=true},string=c and{name="浮生儿",collection="THANKS",access="SPECIAL",descitem="解锁\"靠背熊\"的皮肤。",description="竹居食铁兽的家人为了掩护兽子逃跑先与猎人周旋，而如今兽子孤身已然。某日在农神山溪边发现一位因伤昏倒的女子。它将女子驮到梨花洞治其伤愈其剑。女子用玉竹制成背篓给它当家并为其取名\"浮生儿\"。八年来浮生儿一直相伴左右陪她修炼，直至出山之日的到来！"}or{name="Foosen",collection="THANKS",access="SPECIAL",descitem="Unlock \"Backcub\" skin.",description="The story was not translated."},fn_anim=function(f)x(f,{"idle1","idle1","idle1","idle2","idle3","idle3","idle4","idle5"})end,fn_start=function(f)f.AnimState:SetBank("backcub_thanks")f.AnimState:SetBuild("backcub_thanks")end,fn_end=function(f)z(f)end,equip={symbol="swap_body",build="backcub_thanks",file="swap_body"},exchangefx={prefab=nil,offset_y=nil,scale=nil},floater={cut=nil,size="med",offset_y=0.1,scale=0.9,nofx=nil,fn_anim=function(f)x(f,{"idle1_water","idle1_water","idle1_water","idle2_water","idle3_water","idle3_water","idle4_water","idle5_water"})end}},backcub_fans2={base_prefab="backcub",type="item",skin_tags={},release_group=555,rarity=K,skin_id="6309c6e88c2f781db2f7ae20",onlyownedshow=true,assets={Asset("ANIM","anim/skin/backcub_fans2.zip"),Asset("ANIM","anim/skin/ui_backcub_fans2_2x6.zip")},image={name=nil,atlas=nil,setable=true},string=c and{name="饭豆子",collection="FANS",access="REWARD",descitem="解锁\"靠背熊\"的皮肤。",description="饭豆子睡着时思想喜欢飘向各处。暴雨来临，孩童们都被雷声吓得噩梦不断。饭豆子放下自己的美梦而去帮助他们改善梦境。一觉醒来，孩子们终记不得它的模样，只记得那沙子般细腻的柔软。\n--感谢白饭的绘制"}or{name="Bean Fan",collection="FANS",access="REWARD",descitem="Unlock \"Backcub\" skin.",description="The story was not translated."},fn_start=function(f)f.AnimState:SetBank("backcub_fans2")f.AnimState:SetBuild("backcub_fans2")f.components.container:WidgetSetup("backcub_fans2")end,fn_end=function(f)z(f)f.components.container:WidgetSetup("piggyback")end,fn_start_c=function(f)f.replica.container:WidgetSetup("backcub_fans2")end,fn_end_c=function(f)f.replica.container:WidgetSetup("piggyback")end,fn_anim=function(f)x(f,{"idle1","idle1","idle1","idle1","idle2","idle3","idle3"})end,equip={symbol="swap_body",build="backcub_fans2",file="swap_body"},exchangefx={prefab=nil,offset_y=nil,scale=nil},floater={cut=nil,size="med",offset_y=0.1,scale=0.9,nofx=nil,fn_anim=function(f)x(f,{"idle1_water","idle1_water","idle1_water","idle2_water"})end}},rosebush_collector={base_prefab="rosebush",type="item",skin_tags={},release_group=555,rarity=L,skin_id="62e3c3a98c2f781db2f79abc",onlyownedshow=true,assets={Asset("ANIM","anim/berrybush.zip"),Asset("ANIM","anim/skin/rosebush_collector.zip")},string=c and{name="朽星棘",collection="COLLECTOR",access="SPECIAL",descitem="解锁\"蔷薇花丛\"、\"带刺蔷薇\"以及入鞘后的皮肤。",description="用尽毕生精力，终于在极其遥远的星云残骸中找到传说中能贯穿星辰的神剑。当他自豪地在高台上举起这把闪耀神剑，剑体很快碎裂化作无数金色闪光向地面飘去。在众人诧异中，地面开始干枯龟裂，水晶般的荆棘开始在整个星球蔓延。"}or{name="Star Blighted Thorns",collection="COLLECTOR",access="SPECIAL",descitem="Unlock \"Rose Bush\", \"Rosorns\" skin.",description="The story was not translated."},fn_start=function(f)f.AnimState:SetBank("berrybush")f.AnimState:SetBuild("rosebush_collector")end,exchangefx={prefab=nil,offset_y=nil,scale=1.5},linkedskins={rosorns="rosorns_collector"},placer={name=nil,bank="berrybush",build="rosebush_collector",anim="dead",prefabs={"dug_rosebush","cutted_rosebush"}}},rosorns_collector={base_prefab="rosorns",type="item",skin_tags={},release_group=555,rarity=L,skin_id="62e3c3a98c2f781db2f79abc",noshopshow=true,assets={Asset("ANIM","anim/skin/rosorns_collector.zip"),Asset("ATLAS","images/inventoryimages_skin/foliageath_rosorns_collector.xml"),Asset("IMAGE","images/inventoryimages_skin/foliageath_rosorns_collector.tex")},image={name=nil,atlas=nil,setable=true},string={name=c and"贯星剑"or"Star Pierced Sword",collection="COLLECTOR",access="SPECIAL"},anim={bank=nil,build=nil,anim=nil,isloop_anim=true,animpush=nil,isloop_animpush=nil,setable=true},equip={symbol="swap_object",build="rosorns_collector",file="swap_object"},fn_onAttack=function(f,g,N)local O=SpawnPrefab("rosorns_collector_fx")if O~=nil then O.Transform:SetPosition(N.Transform:GetWorldPosition())end end,scabbard={anim="idle_cover",isloop=true,bank="rosorns_collector",build="rosorns_collector",image="foliageath_rosorns_collector",atlas="images/inventoryimages_skin/foliageath_rosorns_collector.xml"},exchangefx={prefab=nil,offset_y=nil,scale=nil},floater={nofx=true}},fimbul_axe_collector={base_prefab="fimbul_axe",type="item",skin_tags={},release_group=555,rarity=L,skin_id="62e775148c2f781db2f79ba1",onlyownedshow=true,assets={Asset("ANIM","anim/skin/fimbul_axe_collector.zip")},image={name=nil,atlas=nil,setable=true},string=c and{name="跃星杖",collection="COLLECTOR",access="SPECIAL",descitem="解锁\"芬布尔斧\"的皮肤。",description="十七年前，盛夏流星群给一对不育夫妻带来了孩子。现在，女婴已长大，每晚抚摸碎星吊坠望着璀璨的星空着迷。丈夫含泪将当初藏起的其余碎星还给了女孩。流星群再次出现，女孩感恩后，跃向天空，如一颗星星般耀眼。"}or{name="Star Leaping Staff",collection="COLLECTOR",access="SPECIAL",descitem="Unlock \"Fimbul's Axe\" skin.",description="The story was not translated."},anim={bank=nil,build=nil,anim=nil,isloop_anim=true,animpush=nil,isloop_animpush=nil,setable=true},equip={symbol="swap_object",build="fimbul_axe_collector",file="swap_base"},fn_onThrown=function(f,g,N)if g:HasTag("player")then g.AnimState:OverrideSymbol("swap_object","fimbul_axe_collector","swap_throw")g.AnimState:Show("ARM_carry")g.AnimState:Hide("ARM_normal")end;if f.task_skinfx~=nil then f.task_skinfx:Cancel()end;f.task_skinfx=f:DoPeriodicTask(0.08,function()local O=SpawnPrefab("fimbul_axe_collector_fx")if O~=nil then O.Transform:SetPosition(A(f:GetPosition(),0.2+math.random()*1.5))end end,0)end,fn_onLightning=function(f,g,N)local h,i,j=N.Transform:GetWorldPosition()local O=SpawnPrefab("fimbul_axe_collector2_fx")if O~=nil then O.Transform:SetPosition(h,i,j)end;O=SpawnPrefab("fimbul_axe_collector3_fx")if O~=nil then O.Transform:SetPosition(h,i,j)end end,fn_onThrownEnd=function(f)if f.task_skinfx~=nil then f.task_skinfx:Cancel()f.task_skinfx=nil end end,exchangefx={prefab=nil,offset_y=nil,scale=nil},floater={cut=0.1,size="med",offset_y=0.3,scale=0.4,nofx=nil}},siving_turn_collector={base_prefab="siving_turn",type="item",skin_tags={},release_group=555,rarity=L,skin_id="62eb8b9e8c2f781db2f79d21",onlyownedshow=true,assets={Asset("ANIM","anim/skin/siving_turn_collector.zip")},image={name=nil,atlas=nil,setable=false},string=c and{name="转星移",collection="COLLECTOR",access="LUCK",descitem="解锁\"子圭·育\"的皮肤。",description="\"我想我...已经对你，...倾慕已久，沐歌\"。\"飞船失控，在这片星漩中已徘徊七个月，无数次望向你，都是那么无暇那么熠熠生辉...总能带给我希望...\"。‘来吧...来吧...投入我的怀抱...’。在飞船靠近沐歌星时，从舱口跳出一个身影，很快便被卷入星环之中。"}or{name="Revolving Star",collection="COLLECTOR",access="LUCK",descitem="Unlock \"Siving-Trans\" skin.",description="The story was not translated."},fn_start=function(f)H(f,"siving_turn_collector",false)end,fn_fruit=function(F)E(F,"siving_turn_collector")end,exchangefx={prefab=nil,offset_y=nil,scale=1.5},fn_setBuildPlacer=function(f)f.AnimState:SetBank("siving_turn_collector")f.AnimState:SetBuild("siving_turn_collector")end},siving_derivant_lvl0_thanks={base_prefab="siving_derivant_lvl0",type="item",skin_tags={},release_group=555,rarity=L,skin_id="62eb6e0e8c2f781db2f79cc2",onlyownedshow=true,assets={Asset("ANIM","anim/skin/siving_derivants_thanks.zip"),Asset("ANIM","anim/skin/siving_derivant_lvl0_thanks.zip")},string=c and{name="梨花开",collection="THANKS",access="SPECIAL",descitem="解锁4型\"子圭岩\"的皮肤。",description="柳氏抱着一把断剑，拖着伤痕累累的身体，跌跌撞撞回到自己栖身的洞穴。洞外平平无奇，洞内别有洞天，周围长满了发着微光的奇异银叶树。她将断剑插在阵法中心，随后所有树上的微光逐渐向断剑聚拢，而自己的伤口也神奇地开始愈合。"}or{name="Snowflake Pine",collection="THANKS",access="SPECIAL",descitem="Unlock all \"Siving Derivant\" skin.",description="The story was not translated."},fn_start=function(f)f.AnimState:SetBank("siving_derivants_thanks")f.AnimState:SetBuild("siving_derivants_thanks")f.AnimState:SetScale(1.3,1.3)end,exchangefx={prefab=nil,offset_y=nil,scale=1.5},linkedskins={down=nil,up="siving_derivant_lvl1_thanks"},placer={name=nil,bank="siving_derivants_thanks",build="siving_derivants_thanks",anim="lvl0",prefabs={"siving_derivant_item"}}},siving_derivant_lvl1_thanks={base_prefab="siving_derivant_lvl1",type="item",skin_tags={},release_group=555,rarity=L,skin_id="62eb6e0e8c2f781db2f79cc2",noshopshow=true,assets={Asset("ANIM","anim/skin/siving_derivants_thanks.zip")},string={name=c and"梨花开"or"Snowflake Pine",collection="THANKS",access="SPECIAL"},fn_start=function(f)f.AnimState:SetBank("siving_derivants_thanks")f.AnimState:SetBuild("siving_derivants_thanks")f.AnimState:SetScale(1.3,1.3)end,exchangefx={prefab=nil,offset_y=nil,scale=1.5},linkedskins={down="siving_derivant_lvl0_thanks",up="siving_derivant_lvl2_thanks"}},siving_derivant_lvl2_thanks={base_prefab="siving_derivant_lvl2",type="item",skin_tags={},release_group=555,rarity=L,skin_id="62eb6e0e8c2f781db2f79cc2",noshopshow=true,assets={Asset("ANIM","anim/skin/siving_derivants_thanks.zip")},string={name=c and"梨花开"or"Snowflake Pine",collection="THANKS",access="SPECIAL"},fn_start=function(f)f.AnimState:SetBank("siving_derivants_thanks")f.AnimState:SetBuild("siving_derivants_thanks")f.AnimState:SetScale(1.3,1.3)end,exchangefx={prefab=nil,offset_y=nil,scale=1.5},linkedskins={down="siving_derivant_lvl1_thanks",up="siving_derivant_lvl3_thanks"}},siving_derivant_lvl3_thanks={base_prefab="siving_derivant_lvl3",type="item",skin_tags={},release_group=555,rarity=L,skin_id="62eb6e0e8c2f781db2f79cc2",noshopshow=true,assets={Asset("ANIM","anim/skin/siving_derivants_thanks.zip")},string={name=c and"梨花开"or"Snowflake Pine",collection="THANKS",access="SPECIAL"},fn_start=function(f)f.AnimState:SetBank("siving_derivants_thanks")f.AnimState:SetBuild("siving_derivants_thanks")f.AnimState:SetScale(1.3,1.3)end,exchangefx={prefab=nil,offset_y=nil,scale=1.5},linkedskins={down="siving_derivant_lvl2_thanks",up=nil}},siving_derivant_lvl0_thanks2={base_prefab="siving_derivant_lvl0",type="item",skin_tags={},release_group=555,rarity=L,skin_id="62eb6e0e8c2f781db2f79cc2",noshopshow=true,assets={Asset("ANIM","anim/skin/siving_derivants_thanks2.zip")},string={name=c and"梨带雨"or"Snowflake Prayer Pine",collection="THANKS",access="SPECIAL"},fn_start=function(f)f.AnimState:SetBank("siving_derivants_thanks2")f.AnimState:SetBuild("siving_derivants_thanks2")f.AnimState:SetScale(1.3,1.3)end,exchangefx={prefab=nil,offset_y=nil,scale=1.5},linkedskins={down=nil,up="siving_derivant_lvl1_thanks2"},placer={name=nil,bank="siving_derivants_thanks2",build="siving_derivants_thanks2",anim="lvl0",prefabs={"siving_derivant_item"}}},siving_derivant_lvl1_thanks2={base_prefab="siving_derivant_lvl1",type="item",skin_tags={},release_group=555,rarity=L,skin_id="62eb6e0e8c2f781db2f79cc2",noshopshow=true,assets={Asset("ANIM","anim/skin/siving_derivants_thanks2.zip")},string={name=c and"梨带雨"or"Snowflake Prayer Pine",collection="THANKS",access="SPECIAL"},fn_start=function(f)f.AnimState:SetBank("siving_derivants_thanks2")f.AnimState:SetBuild("siving_derivants_thanks2")f.AnimState:SetScale(1.3,1.3)end,exchangefx={prefab=nil,offset_y=nil,scale=1.5},linkedskins={down="siving_derivant_lvl0_thanks2",up="siving_derivant_lvl2_thanks2"}},siving_derivant_lvl2_thanks2={base_prefab="siving_derivant_lvl2",type="item",skin_tags={},release_group=555,rarity=L,skin_id="62eb6e0e8c2f781db2f79cc2",noshopshow=true,assets={Asset("ANIM","anim/skin/siving_derivants_thanks2.zip")},string={name=c and"梨带雨"or"Snowflake Prayer Pine",collection="THANKS",access="SPECIAL"},fn_start=function(f)f.AnimState:SetBank("siving_derivants_thanks2")f.AnimState:SetBuild("siving_derivants_thanks2")f.AnimState:SetScale(1.3,1.3)end,exchangefx={prefab=nil,offset_y=nil,scale=1.5},linkedskins={down="siving_derivant_lvl1_thanks2",up="siving_derivant_lvl3_thanks2"}},siving_derivant_lvl3_thanks2={base_prefab="siving_derivant_lvl3",type="item",skin_tags={},release_group=555,rarity=L,skin_id="62eb6e0e8c2f781db2f79cc2",noshopshow=true,assets={Asset("ANIM","anim/skin/siving_derivants_thanks2.zip")},string={name=c and"梨带雨"or"Snowflake Prayer Pine",collection="THANKS",access="SPECIAL"},fn_start=function(f)f.AnimState:SetBank("siving_derivants_thanks2")f.AnimState:SetBuild("siving_derivants_thanks2")f.AnimState:SetScale(1.3,1.3)end,exchangefx={prefab=nil,offset_y=nil,scale=1.5},linkedskins={down="siving_derivant_lvl2_thanks2",up=nil}}}a.SKIN_IDS_LEGION={["freeskins"]={},["6278c409c340bf24ab311522"]={siving_derivant_lvl0_thanks=true,siving_derivant_lvl1_thanks=true,siving_derivant_lvl2_thanks=true,siving_derivant_lvl3_thanks=true,siving_derivant_lvl0_thanks2=true,siving_derivant_lvl1_thanks2=true,siving_derivant_lvl2_thanks2=true,siving_derivant_lvl3_thanks2=true,neverfade_thanks=true,neverfadebush_thanks=true,backcub_thanks=true,fishhomingtool_awesome_thanks=true,fishhomingtool_normal_thanks=true,fishhomingbait_thanks=true,triplegoldenshovelaxe_era=true,tripleshovelaxe_era=true,lilybush_era=true,lileaves_era=true,icire_rock_era=true,shield_l_log_era=true,shield_l_sand_era=true,orchidbush_disguiser=true,boltwingout_disguiser=true,rosebush_marble=true,lilybush_marble=true,orchidbush_marble=true,rosorns_marble=true,lileaves_marble=true,orchitwigs_marble=true,shield_l_log_emo_fist=true,hat_lichen_emo_que=true,rosebush_collector=true,rosorns_collector=true,fimbul_axe_collector=true,siving_turn_collector=true,backcub_fans2=true},["6278c450c340bf24ab311528"]={boltwingout_disguiser=true,rosebush_marble=true,lilybush_marble=true,orchidbush_marble=true,hat_lichen_emo_que=true},["62eb7b148c2f781db2f79cf8"]={rosebush_marble=true,lilybush_marble=true,orchidbush_marble=true,rosorns_marble=true,lileaves_marble=true,orchitwigs_marble=true,rosebush_collector=true,rosorns_collector=true,lilybush_era=true,lileaves_era=true,orchidbush_disguiser=true,shield_l_log_era=true},["6278c487c340bf24ab31152c"]={neverfade_thanks=true,neverfadebush_thanks=true,orchidbush_disguiser=true,boltwingout_disguiser=true,rosebush_marble=true,lilybush_marble=true,orchidbush_marble=true,hat_lichen_emo_que=true},["6278c4acc340bf24ab311530"]={fishhomingtool_awesome_thanks=true,fishhomingtool_normal_thanks=true,fishhomingbait_thanks=true,triplegoldenshovelaxe_era=true,tripleshovelaxe_era=true,lilybush_era=true,lileaves_era=true,icire_rock_era=true,shield_l_log_era=true,shield_l_sand_era=true,shield_l_log_emo_fist=true},["6278c4eec340bf24ab311534"]={rosebush_collector=true,rosorns_collector=true,fimbul_axe_collector=true,rosorns_marble=true,lileaves_marble=true,orchitwigs_marble=true,backcub_thanks=true,siving_derivant_lvl0_thanks=true,siving_derivant_lvl1_thanks=true,siving_derivant_lvl2_thanks=true,siving_derivant_lvl3_thanks=true,siving_derivant_lvl0_thanks2=true,siving_derivant_lvl1_thanks2=true,siving_derivant_lvl2_thanks2=true,siving_derivant_lvl3_thanks2=true}}a.SKIN_IDX_LEGION={}if c then STRINGS.SKIN_LEGION={UNKNOWN_STORY="这个故事不值一提。",COLLECTION={UNKNOWN="陌生系列",MAGICSPELL="魔咒系列",EMOTICON="网上冲浪系列",MARBLE="大理石园丁系列",THANKS="江湖一枝花系列",TVPLAY="剧迷系列",DISGUISER="伪装学者系列",ERA="先古回响系列",OLDPIC="念旧系列",FANS="饭制系列",COLLECTOR="星河收藏家系列"},UI_ACCESS="获取",UI_INPUT_CDK="请输入兑换码",UI_LOAD_CDK="兑换中...",ACCESS={UNKNOWN="无法获取",DONATE="通过回忆获取",FREE="自动获取",SPECIAL="通过特殊方式获取",REWARD="链锁奖励",LUCK="幸运眷顾"}}else STRINGS.SKIN_LEGION={UNKNOWN_STORY="The story is not worth mentioning.",COLLECTION={UNKNOWN="Strange Collection",MAGICSPELL="Magic Spell Collection",EMOTICON="Surf Net Collection",MARBLE="Marble Gardener Collection",THANKS="Heartfelt Thanks Collection",TVPLAY="TV Play Fans Collection",DISGUISER="Master of Disguise Collection",ERA="Era Echo Collection",OLDPIC="Nostalgia Collection",FANS="Fans Creation",COLLECTOR="Galaxy Collector Collection"},UI_ACCESS="Get It",UI_INPUT_CDK="Please enter CDK",UI_LOAD_CDK="Redeeming...",ACCESS={UNKNOWN="Unable to get",DONATE="Get it by memory",FREE="Free access",SPECIAL="Get it by special ways",REWARD="Chain reward",LUCK="Get it by luck"}}end;local function P(Q,R,S)if Q.bank==nil then Q.bank=R end;if Q.build==nil then Q.build=S end;if Q.anim==nil then Q.anim="idle"end;if Q.animpush~=nil then Q.isloop_anim=nil;if Q.isloop_animpush~=true then Q.isloop_animpush=false end else Q.isloop_animpush=nil;if Q.isloop_anim~=true then Q.isloop_anim=false end end end;local T={"neverfade_thanks","neverfadebush_thanks","siving_derivant_lvl0_thanks","siving_derivant_lvl1_thanks","siving_derivant_lvl2_thanks","siving_derivant_lvl3_thanks","siving_derivant_lvl0_thanks2","siving_derivant_lvl1_thanks2","siving_derivant_lvl2_thanks2","siving_derivant_lvl3_thanks2","backcub_thanks","fishhomingtool_awesome_thanks","fishhomingtool_normal_thanks","fishhomingbait_thanks","siving_turn_collector","icire_rock_collector","fimbul_axe_collector","rosebush_collector","rosorns_collector","triplegoldenshovelaxe_era","tripleshovelaxe_era","lilybush_era","lileaves_era","shield_l_log_era","icire_rock_era","shield_l_sand_era","orchidbush_disguiser","boltwingout_disguiser","rosebush_marble","rosorns_marble","lilybush_marble","lileaves_marble","orchidbush_marble","orchitwigs_marble","shield_l_log_emo_fist","hat_lichen_emo_que","backcub_fans2","backcub_fans","shield_l_log_emo_pride","shield_l_sand_op","hat_cowboy_tvplay","hat_lichen_disguiser","orchitwigs_disguiser"}for U,G in pairs(T)do a.SKIN_IDX_LEGION[U]=G;a.SKINS_LEGION[G].skin_idx=U end;for G,V in pairs(a.SKINS_LEGION)do if a.SKIN_IDS_LEGION[V.skin_id]==nil then a.SKIN_IDS_LEGION[V.skin_id]={}end;a.SKIN_IDS_LEGION[V.skin_id][G]=true;if V.image~=nil then if V.image.name==nil then V.image.name=G end;if V.image.atlas==nil then V.image.atlas="images/inventoryimages_skin/"..G..".xml"end;if V.image.setable~=false then V.image.setable=true end;table.insert(Assets,Asset("ATLAS",V.image.atlas))table.insert(Assets,Asset("IMAGE","images/inventoryimages_skin/"..V.image.name..".tex"))RegisterInventoryItemAtlas(V.image.atlas,V.image.name..".tex")end;if V.anim~=nil then P(V.anim,G,G)if V.anim.setable~=false then V.anim.setable=true end end;if V.floater~=nil and V.floater.anim~=nil then P(V.floater.anim,V.anim.bank,V.anim.bank.build)end;if V.build_name_override==nil then V.build_name_override=G end;if V.assets~=nil then for W,X in pairs(V.assets)do table.insert(Assets,X)end end;if V.placer~=nil then if V.placer.name==nil then V.placer.name=G.."_placer"end;if V.anim~=nil then if V.placer.bank==nil then V.placer.bank=V.anim.bank end;if V.placer.build==nil then V.placer.build=V.anim.build end;if V.placer.anim==nil then V.placer.anim=V.anim.anim end else if V.placer.bank==nil then V.placer.bank=G end;if V.placer.build==nil then V.placer.build=G end;if V.placer.anim==nil then V.placer.anim="idle"end end end;table.insert(V.skin_tags,string.upper(G))table.insert(V.skin_tags,"CRAFTABLE")STRINGS.SKIN_NAMES[G]=V.string.name;if V.base_prefab~=nil then if a.PREFAB_SKINS[V.base_prefab]==nil then a.PREFAB_SKINS[V.base_prefab]={G}else table.insert(a.PREFAB_SKINS[V.base_prefab],G)end end end;for Y,V in pairs(a.SKIN_PREFABS_LEGION)do if V.anim~=nil then P(V.anim,Y,Y)if V.anim.setable~=false then V.anim.setable=true end end;if V.floater~=nil and V.floater.anim~=nil then P(V.floater.anim,V.anim.bank,V.anim.bank.build)end;if V.image~=nil then if V.image.name==nil then V.image.name=Y end;if V.image.atlas==nil then V.image.atlas="images/inventoryimages/"..Y..".xml"end;if V.image.setable~=false then V.image.setable=true end;table.insert(Assets,Asset("ATLAS",V.image.atlas))table.insert(Assets,Asset("IMAGE","images/inventoryimages/"..V.image.name..".tex"))RegisterInventoryItemAtlas(V.image.atlas,V.image.name..".tex")end;if V.assets~=nil then for W,X in pairs(V.assets)do table.insert(Assets,X)end end;a[Y.."_clear_fn"]=function(f)end end;c=nil;a.PREFAB_SKINS_IDS={}for Z,_ in pairs(a.PREFAB_SKINS)do a.PREFAB_SKINS_IDS[Z]={}for a0,V in pairs(_)do a.PREFAB_SKINS_IDS[Z][V]=a0 end end;local a1=a.ValidateRecipeSkinRequest;a.ValidateRecipeSkinRequest=function(a2,a3,a4,...)local a5=nil;if a4~=nil and a4~=""and SKINS_LEGION[a4]~=nil then if table.contains(a.PREFAB_SKINS[a3],a4)then a5=a4 end else a5=a1(a2,a3,a4,...)end;return a5 end;local function a6(G,a7)if SKIN_IDS_LEGION.freeskins[G]then return true elseif a7~=nil and SKINS_CACHE_L[a7]~=nil and SKINS_CACHE_L[a7][G]then return true end;return false end;AddClassPostConstruct("widgets/redux/craftingmenu_skinselector",function(self,a8,g,a9)if self.recipe and SKIN_PREFABS_LEGION[self.recipe.product]then local aa=self.GetSkinsList;self.GetSkinsList=function(self,...)if PREFAB_SKINS[self.recipe.product]then if not self.timestamp then self.timestamp=-10000 end;local ab={}for ac,G in pairs(PREFAB_SKINS[self.recipe.product])do if a6(G,self.owner.userid)then local r={type=type,item=G,timestamp=-10000}table.insert(ab,r)if r.timestamp>self.timestamp then self.timestamp=r.timestamp end end end;return ab else return aa(self,...)end end;self.skins_list=self:GetSkinsList()self.skins_options=self:GetSkinOptions()if#self.skins_options==1 then self.spinner.fgimage:SetPosition(0,0)self.spinner.fgimage:SetScale(1.2)self.spinner.text:Hide()else self.spinner.fgimage:SetPosition(0,15)self.spinner.fgimage:SetScale(1)self.spinner.text:Show()end;self.spinner:SetWrapEnabled(#self.skins_options>1)self.spinner:SetOptions(self.skins_options)self.spinner:SetSelectedIndex(a9==nil and 1 or self:GetIndexForSkin(a9)or 1)end end)a.SKINS_NET_L={}a.SKINS_NET_CDK_L={}a.SKINS_CACHE_L={}a.SKINS_CACHE_EX_L={}local function ad(a7,a9,ae,af)if a7==nil then return end;local ag=SKINS_CACHE_EX_L[a7]if ag==nil then SKINS_CACHE_EX_L[a7]={}ag=SKINS_CACHE_EX_L[a7]else if af~=nil and af.placer~=nil and af.placer.prefabs~=nil then for ac,V in pairs(af.placer.prefabs)do ag[V]=nil end end end;if a9~=nil and ae~=nil and ae.placer~=nil and ae.placer.prefabs~=nil then for ac,V in pairs(ae.placer.prefabs)do ag[V]={name=a9,placer=ae.placer.name}end end end;local ah=nil;local ai=nil;if b then local function aj(_)if _==nil then return end;if _["backcub_fans2"]then return end;for G,ac in pairs(SKIN_IDS_LEGION["6278c487c340bf24ab31152c"])do if not _[G]then return end end;for G,ac in pairs(SKIN_IDS_LEGION["6278c4acc340bf24ab311530"])do if not _[G]then return end end;for G,ac in pairs(SKIN_IDS_LEGION["6278c4eec340bf24ab311534"])do if not _[G]then return end end;_["backcub_fans2"]=true end;local function ak(a7,al,r)if r==nil then r={}end;local am,an=pcall(json.encode,r)if am then SendModRPCToClient(GetClientModRPC("LegionSkined","SkinHandle"),a7,al,an)end end;local function ao(ap)if ap.task~=nil then ap.task:Cancel()ap.task=nil end;ap.errcount=0 end;local function aq(ar,as,a7,at,au,av,aw)if TheWorld==nil then return end;local a2=as~=nil and as.userid or a7;if a2==nil or a2==""then return end;local ax=os.time()or 0;local ay=ar[a2]if ay==nil then ay={errcount=0,loadtag=nil,task=nil,lastquerytime=ax}ar[a2]=ay else if ay.lastquerytime==nil then ay.lastquerytime=ax elseif av.force~=nil then if ax-ay.lastquerytime<av.force then aw.err(ay,a2,1)return end elseif ax-ay.lastquerytime<av.cut then aw.err(ay,a2,2)return end;if ay.task~=nil then if ay.loadtag==0 then return else ay.task:Cancel()ay.task=nil end end;ay.loadtag=nil end;ay.task=TheWorld:DoPeriodicTask(3,function()if ay.loadtag==0 then return elseif ay.loadtag==-1 then if ay.errcount>=1 then ao(ay)aw.err(ay,a2,3)return else ay.errcount=ay.errcount+1 end elseif ay.loadtag==1 then ao(ay)return end;ay.loadtag=0;ay.lastquerytime=os.time()or 0;local az=aw.urlparams(ay,a2)if az==nil then ao(ay)aw.err(ay,a2,4)return end;TheSim:QueryServer(az,function(aA,aB,aC)if aB and string.len(aA)>1 and aC==200 then local aD,r=pcall(function()return json.decode(aA)end)if not aD then print("["..at.."] Faild to parse quest json for "..tostring(a2).."! ",tostring(aD))ay.loadtag=-1 else aw.handle(ay,a2,r)end else ay.loadtag=-1 end end,au and"GET"or"POST",not au and aw.params(ay,a2)or nil)end,av.delay)end;ah=function(as,a7,aE,aF)aq(SKINS_NET_L,as,a7,"GetLegionSkins",true,{force=aF and 5 or nil,cut=180,delay=aE},{urlparams=function(ay,a2)return"https://fireleaves.cn/account/locakedSkin?mid=6041a52be3a3fb1f530b550a&id="..a2 end,handle=function(ay,a2,r)local _=nil;if r~=nil then if r.lockedSkin~=nil and type(r.lockedSkin)=="table"then for W,aG in pairs(r.lockedSkin)do local aH=SKIN_IDS_LEGION[aG]if aH~=nil then if _==nil then _={}end;for G,aI in pairs(aH)do if SKINS_LEGION[G]~=nil then _[G]=true end end end end;aj(_)end end;if _~=nil then SKINS_CACHE_L[a2]=_ end;ay.loadtag=1;ao(ay)if as~=nil and as:IsValid()then ak(a2,1,SKINS_CACHE_L[a2])end end,err=function(ay,a2,aJ)end})end;ai=function(as,a7,aK)aq(SKINS_NET_CDK_L,as,a7,"DoLegionCdk",false,{force=nil,cut=5,delay=0},{urlparams=function(ay,a2)return"https://fireleaves.cn/cdk/use"end,params=function(ay,a2)return json.encode({cdkStr=aK,id=a2})end,handle=function(ay,a2,r)local ap=-1;if r~=nil and r.code==0 then ap=1;ay.loadtag=1;ah(as,a7,0,true)else ay.loadtag=-1 end;ao(ay)if as~=nil and as:IsValid()then ak(a2,2,{state=ap,pop=-1})end end,err=function(ay,a2,aJ)if as~=nil and as:IsValid()then local aL=-1;if aJ==1 or aJ==2 then aL=2 elseif aJ==3 then aL=3 elseif aJ==4 then aL=4 end;ak(a2,2,{state=-1,pop=aL})end end})end;local aM=a.SpawnPrefab;a.SpawnPrefab=function(aN,a4,aO,aP)if a4~=nil and SKINS_LEGION[a4]~=nil then local Z=aM(aN,nil,nil,aP)if Z~=nil then if Z.components.skinedlegion~=nil then if aP==nil or a6(a4,aP)then Z.components.skinedlegion:SetSkin(a4)end end end;return Z else return aM(aN,a4,aO,aP)end end;AddPrefabPostInit("reskin_tool",function(f)if f.components.spellcaster~=nil then local aQ=f.components.spellcaster.can_cast_fn;f.components.spellcaster:SetCanCastFn(function(aR,N,B,...)if N.components.skinedlegion~=nil then return true end;if aQ~=nil then return aQ(aR,N,B,...)end end)local aS=f.components.spellcaster.spell;f.components.spellcaster:SetSpellFn(function(aT,N,B,...)if N~=nil and N.components.skinedlegion~=nil then aT:DoTaskInTime(0,function()local aR=aT.components.inventoryitem.owner;local _=PREFAB_SKINS[N.prefab]local af=N.components.skinedlegion:GetSkinedData()local aU=nil;local aV=nil;local aW=N.components.skinedlegion:GetSkin()local aX=0;if aW~=nil and SKINS_LEGION[aW]~=nil then aX=SKINS_LEGION[aW].skin_idx end;if _~=nil then for ac,G in pairs(_)do if a6(G,aR.userid)then if SKINS_LEGION[G]~=nil then local aY=SKINS_LEGION[G].skin_idx;if aY>aX then if aV==nil or aV>aY then aV=aY;aU=G end end end end end end;if aU~=aW then N.components.skinedlegion:SetSkin(aU)local a9=N.components.skinedlegion:GetSkin()ad(aR.userid,a9,N.components.skinedlegion:GetSkinedData(),af)ak(aR.userid,4,{new=a9,old=aW})end;N.components.skinedlegion:SpawnSkinExchangeFx(nil,aT)end)return end;if aS~=nil then return aS(aT,N,B,...)end end)end end)AddPlayerPostInit(function(f)local aZ=f.OnSave;local a_=f.OnLoad;f.OnSave=function(f,r)if aZ~=nil then aZ(f,r)end;if SKINS_CACHE_L[f.userid]~=nil then local _=nil;for G,V in pairs(SKINS_CACHE_L[f.userid])do if _==nil then _={}end;_[G]=true end;if _~=nil then r.skins_legion=_ end end;if SKINS_CACHE_EX_L[f.userid]~=nil then local _=nil;for b0,V in pairs(SKINS_CACHE_EX_L[f.userid])do if V.name~=nil and V.placer~=nil then if _==nil then _={}end;_[b0]={name=V.name,placer=V.placer}end end;if _~=nil then r.skins_ex_legion=_ end end end;f.OnLoad=function(f,r)if a_~=nil then a_(f,r)end;if r~=nil then if r.skins_legion~=nil then SKINS_CACHE_L[f.userid]=r.skins_legion end;if r.skins_ex_legion~=nil then local b1={}for b0,V in pairs(r.skins_ex_legion)do if V.name~=nil and SKINS_LEGION[V.name]~=nil then b1[b0]=V end end;SKINS_CACHE_EX_L[f.userid]=b1 end end end;f.task_skin_l=f:DoTaskInTime(0.1,function()f.task_skin_l=nil;ah(f,f.userid,0.5,false)if f.userid~=nil then if SKINS_CACHE_L[f.userid]~=nil then ak(f.userid,1,SKINS_CACHE_L[f.userid])end;if SKINS_CACHE_EX_L[f.userid]~=nil then ak(f.userid,3,SKINS_CACHE_EX_L[f.userid])end end end)end)end;local function b2()if ThePlayer and ThePlayer.HUD and ThePlayer.HUD.controls then return ThePlayer.HUD.controls.right_root end;return nil end;AddClientModRPCHandler("LegionSkined","SkinHandle",function(al,r,...)if al and type(al)=="number"then if al==1 then if r and type(r)=="string"then local am,an=pcall(json.decode,r)if an and ThePlayer and ThePlayer.userid then SKINS_CACHE_L[ThePlayer.userid]=an;local b3=b2()if b3~=nil and b3.skinshop_legion then b3.skinshop_legion:ResetItems()end end end elseif al==2 then if r and type(r)=="string"then local am,an=pcall(json.decode,r)if an then local b3=b2()if b3~=nil and b3.skinshop_legion then b3.skinshop_legion:SetCdkState(an.state,an.pop)end end end elseif al==3 then if r and type(r)=="string"then local am,an=pcall(json.decode,r)if an and ThePlayer and ThePlayer.userid then SKINS_CACHE_EX_L[ThePlayer.userid]=an end end elseif al==4 then if r and type(r)=="string"then local am,an=pcall(json.decode,r)if an and ThePlayer and ThePlayer.userid then if an.new~=nil or an.old~=nil then local ae=an.new~=nil and SKINS_LEGION[an.new]or nil;local af=an.old~=nil and SKINS_LEGION[an.old]or nil;ad(ThePlayer.userid,an.new,ae,af)end end end end end end)AddModRPCHandler("LegionSkined","BarHandle",function(as,al,r,...)if al and type(al)=="number"then if al==1 then if as and ah~=nil then ah(as,as.userid,0,true)end elseif al==2 then if as and r and ai~=nil and type(r)=="string"then local am,an=pcall(json.decode,r)if an and an.cdk~=nil and an.cdk~=""and an.cdk:utf8len()>6 then ai(as,as.userid,an.cdk)end end end end end)if not TheNet:IsDedicated()then if TheNet:IsOnlineMode()and TUNING.LEGION_MOD_LANGUAGES=="chinese"then local b4=require"widgets/playeravatarpopup"local b5=require"widgets/templates"local b6=require"widgets/skinlegiondialog"local b7=b4.Layout;b4.Layout=function(self,...)b7(self,...)if not TheInput:ControllerAttached()then local b3=b2()if b3==nil then return end;if b3.skinshop_legion then b3.skinshop_legion:Kill()b3.skinshop_legion=nil end;self.skinshop_l_button=self.proot:AddChild(b5.IconButton("images/icon_skinbar_shadow_l.xml","icon_skinbar_shadow_l.tex","棱镜鸡毛铺",false,false,function()if b3.skinshop_legion then b3.skinshop_legion:Kill()end;b3.skinshop_legion=b3:AddChild(b6(self.owner))b3.skinshop_legion:SetPosition(-380,0)self:Close()end,nil,"self_inspect_mod.tex"))self.skinshop_l_button.icon:SetScale(.6)self.skinshop_l_button.icon:SetPosition(-4,6)self.skinshop_l_button:SetScale(0.65)self.skinshop_l_button:SetPosition(-100,-273)end end end end;local b8=require("components/inventoryitem_replica")local b9=b8.GetDeployPlacerName;b8.GetDeployPlacerName=function(self,...)local ba=b9(self,...)if ba=="gridplacer"then return ba end;if ThePlayer and ThePlayer.userid and SKINS_CACHE_EX_L[ThePlayer.userid]~=nil then local r=SKINS_CACHE_EX_L[ThePlayer.userid]if r[self.inst.prefab]~=nil then return r[self.inst.prefab].placer or ba end end;return ba end;a.Skined_SetBuildPlacer_legion=function(f)if f.components.placer~=nil then local bb=f.components.placer.SetBuilder;f.components.placer.SetBuilder=function(self,...)bb(self,...)if self.builder and self.builder.components.playercontroller~=nil then local a4=self.builder.components.playercontroller.placer_recipe_skin;if a4 and SKINS_LEGION[a4]and SKINS_LEGION[a4].fn_setBuildPlacer then SKINS_LEGION[a4].fn_setBuildPlacer(self.inst)end end end end end